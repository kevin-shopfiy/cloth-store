{% comment %}Do not edit this file{% endcomment %}
{% raw %}
{% assign root_url = {% endraw %}"{%- if routes.root_url != "/" -%}{{ routes.root_url }}{%- endif -%}"{% raw %} %}
{% assign currencyFormat = {% endraw %}{{ shop.money_format | json }}{% raw %} %}
{% assign swatch_options = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign image_options  = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign text_options   = '' | downcase | replace: ', ', ',' | split: ","  %}
{% assign show_selected_variant_info = true %}
 
{% assign image_size     = '360x504' %}
{% assign images_count   = product.images | size %}
{% assign variants_count = product.variants | size %} 
{% assign options_count  = product.options | size %} 
{% assign no_image = 'https://cdn.shopify.com/s/images/themes/product-1.png' %}

{% assign featured_image            = product.featured_image %}
{% assign product_price             = product.price %}
{% assign product_compare_at_price  = product.compare_at_price %}
{% assign second_image_index        = 2 %}
{% assign selected_or_first_available_variant = product.selected_or_first_available_variant %}

{% if show_selected_variant_info and product.selected_variant %}
{% assign selected_or_first_available_variant = product.selected_variant %}
{% assign product_price             = selected_or_first_available_variant.price %}
{% assign product_compare_at_price  = selected_or_first_available_variant.compare_at_price %}
{% if selected_or_first_available_variant.image %}
{% assign featured_image  = selected_or_first_available_variant.image %}
{% endif %}
{% for image in product.images %}
{% if image.id == featured_image.id %}
{% if forloop.index == images_count %}
{% assign second_image_index = 1 %}
{% else %}
{% assign second_image_index = forloop.index | plus: 1 %}
{% endif %}
{% endif %}
{% endfor %}
{% endif %}

{% assign on_sale_label   = '{% endraw %}{{ 'products.labels.on_sale' | t }}{% raw %}' %}
{% assign sold_out_label  = '{% endraw %}{{ 'products.labels.sold_out' | t }}{% raw %}' %}
{% assign quick_view      = '{% endraw %}{{ 'collections.grid.quick_view' | t }}{% raw %}' %}
{% assign price_from      = '{% endraw %}{{ 'products.labels.price_from' | t }}{% raw %}' %}

{% assign on_sale = false %}
{% if product_compare_at_price > product_price %}
{% assign on_sale = true %}
{% assign on_sale_class = ' is-sale' %}
{% endif %}

{% assign sold_out = true %}
{% if product.available %}
{% assign sold_out = false %}
{% endif %} 

  {% comment %}
{% if product.type == 'Garn' %}  
{% if product.tags contains 'Variant_swatch' %} 
{% endcomment %}  
{% assign variantGrid = false %}

{% for collection in product.collections %}
	{% if collection.handle == 'garn' %}
	{% assign variantGrid = true %}
	{% endif %}
{% endfor %}

{% if variantGrid %} 
{% for variant in product.variants %}
 {%- if variant.available -%}
<div handle="{{ product.id }}" {% if showPageData %} data-page="{{page}}"{% endif %} class=" ZZZ collectionBlock js-collectionBlock block spf-col-xl-3 spf-col-lg-4 spf-col-md-6 spf-col-sm-6 spf-col-6">
  <a href="{{ root_url }}{{ product.url | within: collection }}?variant={{ variant.id }}" title="{{ product.title }}" class="collectionBlock-image lazyloaded fade-in {% if images_count > 1 %}has-second-image{% endif %}"
     style="background-image: url({{ variant.image | img_url: image_size }});">
    {% if images_count > 1 %}
    <div class="collectionBlock-hover lazyloaded">
      <span class="collectionBlock-hover__image " style="background-image: url({{ variant.image | img_url: image_size }})"></span>
    </div> 
    {% endif %}
    {% unless buttonMode %}
    {% assign buttonMode = 'icon_only' %}
    {% endunless %}
    {% unless buttonView %}
    {% assign buttonView = 'Collection' %}
    {% endunless %}
    {% unless buttonClass %}
    {% assign buttonClass = 'wishlisthero-floating' %}
    {% endunless  %}
    {% assign image = product.featured_image %}
    {% assign name = product.title %}
    {% capture url %}https://{{shop.domain}}{{product.url}}{% endcapture %}
    {% for var in product.variants %}
    {% if product.selected_or_first_available_variant.id == var.id %}
    {% if var.image and var.image.src %}
    {% assign image = var.image.src %}
    {% endif %}
    {% if var.url %}
    {%  assign url = var.url %}
    {% endif %}
    {% if var.name %}
    {% assign name = var.name %}
    {% endif %} 
    {% endif %} 
    {% endfor %}  
    
    <div data-wlh-id="{{product.id}}" 
         data-wlh-link="{{url}}"
         data-wlh-variantid="{{product.selected_or_first_available_variant.id}}" 
         data-wlh-price="{{product.selected_or_first_available_variant.price | remove: '.' | remove: ',' | divided_by: 100.0 }}" 
         data-wlh-name="{{name | strip_html }}" 
         data-wlh-image="{{image | img_url: '1024x'}}" 
         class="XXXXCC wishlist-hero-custom-button {{buttonClass}}  product-status-flag product-status-flag--circle is-sale" 
         data-wlh-mode="{{buttonMode}}"
         data-wlh-view="{{buttonView}}"
         style="left: auto;"></div>   
    {% if on_sale or sold_out %}
    <span translatable class="product-status-flag product-status-flag--circle {%if sold_out == true %} is-sold-out{%endif%}{{on_sale_class}}">
      {% if sold_out %}{{ sold_out_label }}{% elsif on_sale %}{{ on_sale_label }}{% endif %}
    </span>
    {% endif %} 

    <div class="collectionBlock-image-inner">
      <div translatable data-handle="{{ product.handle }}" class="js-quickView quickView-button button">{{ quick_view }}</div>
      <div class="quickview-product-images" data-handle="{{ product.handle }}" style="display: none">
        {% for image in product.images %}
        <div class="quickview-product-image lazyloaded fade-in" style="background-image: url({{ image.src | img_url: image_size }})"></div>
        {% endfor %}
      </div>
    </div> 

  </a>

  <div class="collectionBlock-info">
    <a tabindex="-1" href="{{ root_url }}{{ product.url | within: collection }}?variant={{ variant.id }}"><h5 translatable class="collection-type">{{ product.vendor }}</h5></a>
    <a tabindex="-1" href="{{ root_url }}{{ product.url | within: collection }}?variant={{ variant.id }}"><h4 translatable class="collection-product">{{ product.title }} ({{ variant.title }})</h4></a>
    {% if variant.price_varies %}
    <p translatable>{{ price_from }} {{ variant.price_min | money_without_trailing_zeros  }}</p>
    {% else %}
    {% if on_sale %}
    <p class="price sale">
      {% if variant.compare_at_price > variant.price  %}
      <strike>{{ variant.compare_at_price | money_without_trailing_zeros }}</strike>
      {% endif %}
      <span class="collection-product-saleprice">{{ variant.price | money_without_trailing_zeros }}</span>
    </p>
    {% else %}
    <p class="price">{{ variant.price | money_without_trailing_zeros }}</p>
    {% endif %}
    {% endif %}
       

    <div class="swatches-fake mfp-hide">
      {% if variants_count > 1 %}
      {% assign file_extension = 'jpg' %}
      {% assign found_option = false %}
      {% assign is_color = false %}
      {% assign option_index = 0 %}
      {% for option in product.options %}
      {% if option.name == 'Color' or option.name == 'Farbe' %}
      {% assign found_option = true %}
      {% assign option_index = forloop.index0 %}
      {% assign optionIndex = "option" | append: forloop.index %}
      {% assign downcased_option = option.name | downcase %}
      {% if downcased_option contains 'color' or downcased_option contains 'colour' or downcased_option contains 'farbe' %}
      {% assign is_color = true %}
      <style>
        .selector-wrapper[data-id="product-select-option-{{ option_index }}"] { display: none; }
        label[for="product-select-option-{{ option_index }}"] { display: none; }
        #product-select-option-{{ option_index }} { display: none; }
        #product-select-option-{{ option_index }} + .custom-style-select-box { display: none !important; }
      </style> 
      <scripttag>
        $(window).load(function() {
        $('.selector-wrapper:eq({{ option_index }})').hide();
        $('.productForm-block--swatches').removeClass('is-loading');
        });
      </scripttag>
      {% endif %}
      {% endif %} 
      {% endfor %} 

      {% if found_option %}
      <div class="swatch clearfix" data-option-index="{{ option_index }}">
        <div translatable class="header">{{ swatch }}</div>
        {% assign values = '' %}
        {%- assign counterc = 0 -%}
        {% for variant in product.variants %}
        {% assign value = variant[optionIndex] %}
        {% capture garne %}{% for tag in product.tags %}{% if tag contains 'garne:' %}{{ tag | remove:'garne:' | handle }}{% endif %}{% endfor %}{% endcapture %}
        {% capture type %}{{ product.type }}{% endcapture %}  
        {% comment %}             {{ variant.sku  }}
        <img src="https://ftp.oonique.com/Bilder/Bildmaterial/Bildmaterial%20Produkte/Farbswatch/{{ garne | remove:'-gots' }}-lana-grossa-{{ variant.sku | split:'-' | last }}_M.jpg">
        {% endcomment %} 
        {% unless values contains value %}
        {% if values != '' %}
        {% assign values = values | join: ',' %}
        {% endif %}
        {% assign values = values | append: ',' | append: value %}
        {% assign values = values | split: ',' %}
        {%- if counterc < 3 -%}
        <div translatable data-value="{{ value | escape }}" class="swatch-element swatch__element{% if is_color %}color {% endif %}{{ value | handle }} {% if variant.available %}available{% else %}soldout{% endif %}">
          <input id="product_id-{{ product.id }}-swatch-{{ option_index }}-{{ value | handle }}" type="radio" name="product_id-{{ product.id }}-option-{{ option_index }}" value="{{ value | escape }}"{% if forloop.first %} checked{% endif %} />
          {% if is_color %}
          <label class="swatch__label" for="product_id-{{ product.id }}-swatch-{{ option_index }}-{{ value | handle }}" title="{{ value | escape }}">
            <span class="swatch__color" style="background-color: {{ value | split: ' ' | last | handle }}; background-image: url({{ value | handle | append: '.' | append: file_extension | asset_url }});background-image:url(https://ftp.oonique.com/Bilder/Bildmaterial/Bildmaterial%20Produkte/Farbswatch/{{ garne }}-lana-grossa-{{ variant.sku | split:'-' | last }}_M.jpg)"></span>
          </label>
          {% else %}
          <label for="swatch-{{ option_index }}-{{ value | handle }}" title="{{ value | escape }}">
            {{ value }}                </label>
          {% endif %}

        </div>
        {% else %}
        <li><a class="big" href="{{ product.url | within: collection }}" title="{{'products.product.view_more' | t}}"> + {% comment %}All ({{product.variants.size}}){% endcomment %}</a></li>
        {%- break -%}
        {% endif %}
        {% endunless %}
        {% if variant.available %}
        <scripttag>
          var isCollection = jQuery('.js-collectionGrid').length;
          if (isCollection) {
          jQuery('.productForm[data-product_id="' + {{ product.id }} + '"] .swatch[data-option-index="{{ option_index }}"] .{{ value | handle }}').removeClass('soldout').addClass('available').find(':radio').removeAttr('disabled');
          } else {
          jQuery('.swatch[data-option-index="{{ option_index }}"] .{{ value | handle }}').removeClass('soldout').addClass('available').find(':radio').removeAttr('disabled');
          }
        </scripttag>
        {% endif %}
        {%- assign counterc = counterc | plus:1 -%}
        {% endfor %}
      </div>
      {% endif %}
      {% endif %}
    </div>


  </div>

  {% if show_reviews %}
  <div class="reviews-fake">
    <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
  </div>
  {% endif %}
  <scripttag type="application/json" class = "product-json">
    {{ product | json }}        </scripttag>
</div>
{% endif %}
{% endfor %}

{% else %} 
<div{% if showPageData %} data-page="{{page}}"{% endif %} class="XXX collectionBlock js-collectionBlock block spf-col-xl-3 spf-col-lg-4 spf-col-md-6 spf-col-sm-6 spf-col-6">
  <a href="{{ root_url }}{{ product.url | within: collection }}" title="{{ product.title }}" class="collectionBlock-image lazyloaded fade-in {% if images_count > 1 %}has-second-image{% endif %}"
     style="background-image: url({{ featured_image.src | img_url: image_size }});">
    {% if images_count > 1 %}
    <div class="collectionBlock-hover lazyloaded">
      <span class="collectionBlock-hover__image " style="background-image: url({{ product.images[1].src | img_url: image_size }})"></span>
    </div> 
    {% endif %} 
    {% unless buttonMode %}
    {% assign buttonMode = 'icon_only' %}
    {% endunless %}
    {% unless buttonView %}
    {% assign buttonView = 'Collection' %}
    {% endunless %}
    {% unless buttonClass %}
    {% assign buttonClass = 'wishlisthero-floating' %}
    {% endunless  %}
    {% assign image = product.featured_image %}
    {% assign name = product.title %}
    {% capture url %}https://{{shop.domain}}{{product.url}}{% endcapture %}
    {% for var in product.variants %}
    {% if product.selected_or_first_available_variant.id == var.id %}
    {% if var.image and var.image.src %}
    {% assign image = var.image.src %}
    {% endif %}
    {% if var.url %}
    {%  assign url = var.url %}
    {% endif %}
    {% if var.name %}
    {% assign name = var.name %}
    {% endif %}
    {% endif %} 
    {% endfor %}
    <div data-wlh-id="{{product.id}}" 
         data-wlh-link="{{url}}"
         data-wlh-variantid="{{product.selected_or_first_available_variant.id}}" 
         data-wlh-price="{{product.selected_or_first_available_variant.price | remove: '.' | remove: ',' | divided_by: 100.0 }}" 
         data-wlh-name="{{name | strip_html }}" 
         data-wlh-image="{{image | img_url: '1024x'}}" 
         class="wishlist-hero-custom-button {{buttonClass}}  product-status-flag product-status-flag--circle is-sale" 
         data-wlh-mode="{{buttonMode}}"
         data-wlh-view="{{buttonView}}"
         style="left: auto;"></div>  
    {% if on_sale or sold_out %}
    <span translatable class="product-status-flag product-status-flag--circle {%if sold_out == true %} is-sold-out{%endif%}{{on_sale_class}}">
      {% if sold_out %}{{ sold_out_label }}{% elsif on_sale %}{{ on_sale_label }}{% endif %}
    </span>
    {% endif %}

    <div class="collectionBlock-image-inner">
      <div translatable data-handle="{{ product.handle }}" class="js-quickView quickView-button button">{{ quick_view }}</div>
      <div class="quickview-product-images" data-handle="{{ product.handle }}" style="display: none">
        {% for image in product.images %}
        <div class="quickview-product-image lazyloaded fade-in" style="background-image: url({{ image.src | img_url: image_size }})"></div>
        {% endfor %}
      </div>
    </div>

  </a>

  <div class="collectionBlock-info">
    <a tabindex="-1" href="{{ root_url }}{{ product.url | within: collection }}"><h5 translatable class="collection-type">{{ product.vendor }}  {{ product_collection.title }} </h5></a>
    <a tabindex="-1" href="{{ root_url }}{{ product.url | within: collection }}"><h4 translatable class="collection-product">{{ product.title }}</h4></a>
    {% if product.price_varies %}
    <p translatable>{{ price_from }} {{ product.price_min | money_without_trailing_zeros  }}</p>
    {% else %}
    {% if on_sale %}
    <p class="price sale">
      <strike>{{ product.compare_at_price | money_without_trailing_zeros }}</strike>
      <span class="collection-product-saleprice">{{ product.price | money_without_trailing_zeros }}</span>
    </p>
    {% else %}
    <p class="price">{{ product.price | money_without_trailing_zeros }}</p>
    {% endif %}
    {% endif %}

    {% comment %}
    {% if product.type == 'Garn' %}
    <div class="color-swatches-vr">
      {% for variant in product.variants %}

      <a href="{{ product.url | within: collection }}?variant={{ variant.id }}">
        <label class="variant__button-label--color swatch__label">
          <span class="swatch__color swatch__color--" style=" background-image: url({{ variant.image | img_url:'small'}})"></span>

        </label>
      </a>
      {% endfor %}
    </div>
    {% endif %}
    {% endcomment %}         



    <div class="swatches-fake mfp-hide">
      {% if variants_count > 1 %}
      {% assign file_extension = 'jpg' %}
      {% assign found_option = false %}
      {% assign is_color = false %}
      {% assign option_index = 0 %}
      {% for option in product.options %}
      {% if option.name == 'Color' or option.name == 'Farbe' %}
      {% assign found_option = true %}
      {% assign option_index = forloop.index0 %}
      {% assign optionIndex = "option" | append: forloop.index %}
      {% assign downcased_option = option.name | downcase %}
      {% if downcased_option contains 'color' or downcased_option contains 'colour' or downcased_option contains 'farbe' %}
      {% assign is_color = true %}
      <style>
        .selector-wrapper[data-id="product-select-option-{{ option_index }}"] { display: none; }
        label[for="product-select-option-{{ option_index }}"] { display: none; }
        #product-select-option-{{ option_index }} { display: none; }
        #product-select-option-{{ option_index }} + .custom-style-select-box { display: none !important; }
      </style>
      <scripttag>
        $(window).load(function() {
        $('.selector-wrapper:eq({{ option_index }})').hide();
        $('.productForm-block--swatches').removeClass('is-loading');
        });
      </scripttag>
      {% endif %}
      {% endif %}
      {% endfor %}

      {% if found_option %}
      <div class="swatch clearfix" data-option-index="{{ option_index }}">
        <div translatable class="header">{{ swatch }}</div>
        {% assign values = '' %}
        {%- assign counterc = 0 -%}
        {% for variant in product.variants %}
        {% assign value = variant[optionIndex] %}
        {% capture garne %}{% for tag in product.tags %}{% if tag contains 'garne:' %}{{ tag | remove:'garne:' | handle }}{% endif %}{% endfor %}{% endcapture %}
        {% capture type %}{{ product.type }}{% endcapture %}  
        {% comment %}             {{ variant.sku  }}
        <img src="https://ftp.oonique.com/Bilder/Bildmaterial/Bildmaterial%20Produkte/Farbswatch/{{ garne | remove:'-gots' }}-lana-grossa-{{ variant.sku | split:'-' | last }}_M.jpg">
        {% endcomment %} 
        {% unless values contains value %}
        {% if values != '' %}
        {% assign values = values | join: ',' %}
        {% endif %}
        {% assign values = values | append: ',' | append: value %}
        {% assign values = values | split: ',' %}
        {%- if counterc < 3 -%}
        <div translatable data-value="{{ value | escape }}" class="swatch-element swatch__element{% if is_color %}color {% endif %}{{ value | handle }} {% if variant.available %}available{% else %}soldout{% endif %}">
          <input id="product_id-{{ product.id }}-swatch-{{ option_index }}-{{ value | handle }}" type="radio" name="product_id-{{ product.id }}-option-{{ option_index }}" value="{{ value | escape }}"{% if forloop.first %} checked{% endif %} />
          {% if is_color %}
          <label class="swatch__label" for="product_id-{{ product.id }}-swatch-{{ option_index }}-{{ value | handle }}" title="{{ value | escape }}">
            <span class="swatch__color" style="background-color: {{ value | split: ' ' | last | handle }}; background-image: url({{ value | handle | append: '.' | append: file_extension | asset_url }});background-image:url(https://ftp.oonique.com/Bilder/Bildmaterial/Bildmaterial%20Produkte/Farbswatch/{{ garne }}-lana-grossa-{{ variant.sku | split:'-' | last }}_M.jpg)"></span>
          </label>
          {% else %}
          <label for="swatch-{{ option_index }}-{{ value | handle }}" title="{{ value | escape }}">
            {{ value }}                </label>
          {% endif %}

        </div>
        {% else %}
        <li><a class="big" href="{{ product.url | within: collection }}" title="{{'products.product.view_more' | t}}"> + {% comment %}All ({{product.variants.size}}){% endcomment %}</a></li>
        {%- break -%}
        {% endif %}
        {% endunless %}
        {% if variant.available %}
        <scripttag>
          var isCollection = jQuery('.js-collectionGrid').length;
          if (isCollection) {
          jQuery('.productForm[data-product_id="' + {{ product.id }} + '"] .swatch[data-option-index="{{ option_index }}"] .{{ value | handle }}').removeClass('soldout').addClass('available').find(':radio').removeAttr('disabled');
          } else {
          jQuery('.swatch[data-option-index="{{ option_index }}"] .{{ value | handle }}').removeClass('soldout').addClass('available').find(':radio').removeAttr('disabled');
          }
        </scripttag>
        {% endif %}
        {%- assign counterc = counterc | plus:1 -%}
        {% endfor %}
      </div>
      {% endif %}
      {% endif %}
    </div>


  </div>

  {% if show_reviews %}
  <div class="reviews-fake">
    <span class="shopify-product-reviews-badge" data-id="{{ product.id }}"></span>
  </div>
  {% endif %}
  
</div>




{% endif %}
{% endraw %}